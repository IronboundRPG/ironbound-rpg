<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IRONBOUND RPG | PersonaEngine</title>
    <link href="https://fonts.googleapis.com/css2?family=Pirata+One&display=swap" rel="stylesheet">
    <style>
        /* 1. RESET & BASE */
        * { box-sizing: border-box; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; }

        /* 2. PERSISTENT BACKGROUND */
        body { 
            background: #000 url('cell-bg.jpg') no-repeat center center; 
            background-size: cover;
            font-family: 'Courier New', Courier, monospace;
            display: flex; justify-content: center; align-items: center;
        }

        /* 3. THE INTRO OVERLAY (FIXED) */
        #intro-screen {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(0, 0, 0, 0.98); /* Nearly solid black */
            z-index: 9999; /* Force to the absolute front */
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 1.5s ease;
        }

        #intro-content {
            max-width: 800px; width: 90%; text-align: center;
            color: #cc0000; font-family: 'Pirata One', serif;
            text-shadow: 0 0 15px rgba(255, 0, 0, 0.7);
        }

        #intro-content h1 { font-size: 2.5rem; text-decoration: underline; margin-bottom: 20px; }
        #intro-content p { font-size: 1.4rem; line-height: 1.3; margin: 15px 0; }

        /* NAME ENTRY */
        #player-name-input { 
            background: #110000; border: 1px solid #cc0000; 
            color: #fff; font-family: 'Courier New', monospace; 
            padding: 15px; font-size: 1rem; width: 300px; 
            text-align: center; outline: none; margin: 20px 0;
        }

        #start-btn {
            background: #330000; border: 2px solid #cc0000;
            color: #cc0000; padding: 15px 60px; font-family: 'Pirata One', serif;
            font-size: 1.5rem; cursor: pointer; transition: 0.3s;
        }
        #start-btn:hover { background: #cc0000; color: #000; box-shadow: 0 0 30px #f00; }

        /* 4. GAME ASSETS */
        #character-layer { 
            position: absolute; bottom: -50px; right: -5%; width: 80%; height: 110vh; 
            background: url('dorn.png') no-repeat bottom right; background-size: contain; 
            opacity: 0; filter: brightness(0.4) grayscale(40%); 
            z-index: 5; pointer-events: none; transition: opacity 2s ease, filter 0.3s ease; 
        }
        #character-layer.visible { opacity: 1; }
        #character-layer.speaking { filter: brightness(1.1) grayscale(0%); }

        #terminal { 
            width: 100%; max-width: 650px; height: 85vh; 
            background: rgba(10, 10, 10, 0.94); border: 1px solid #22ff22; 
            padding: 25px; display: flex; flex-direction: column; 
            box-shadow: 0 0 20px rgba(34, 255, 34, 0.3); 
            z-index: 10; backdrop-filter: blur(10px); margin-right: 35%;
        }

        #header { display: flex; justify-content: space-between; border-bottom: 1px solid #22ff22; padding-bottom: 10px; margin-bottom: 20px; font-size: 0.8rem; }
        #output { flex-grow: 1; overflow-y: auto; white-space: pre-wrap; line-height: 1.5; color: #22ff22; text-shadow: 0 0 5px #22ff22; scrollbar-width: none; }
        #input-form { display: flex; border-top: 1px solid #22ff22
